import{c as H,a as d,f as p,t as Q}from"../chunks/CGNZvOPE.js";import{i as k}from"../chunks/CInK0qhj.js";import{h as S,I as q,a6 as G,z as w,A as K,D as y,E as v,F as u,B as E,G as h,av as x,R as A,v as D,Q as B,aL as V,aQ as W}from"../chunks/CIoVC_V0.js";import{h as Z}from"../chunks/COCABsjf.js";import{s as N,e as g}from"../chunks/Qx5RYQp3.js";import{i as I,s as J,a as X,p as M}from"../chunks/DQ1p1_fH.js";import{w as Y,c as P,o as ee}from"../chunks/Bk6mjGMJ.js";function te(o,t,e,a,r){S&&q();var n=t.$$slots?.[e],i=!1;n===!0&&(n=t.children,i=!0),n===void 0||n(o,i?()=>a:a)}function ae(o,t,e){var a=o==null?"":""+o;return a=a?a+" "+t:t,a===""?null:a}function oe(o,t,e,a,r,n){var i=o.__className;if(S||i!==e||i===void 0){var s=ae(e,a);(!S||s!==o.getAttribute("class"))&&(s==null?o.removeAttribute("class"):o.className=s),o.__className=e}return n}function ne(o){return function(...t){var e=t[0];return e.stopPropagation(),o?.apply(this,t)}}function ie(o,t){var e=o.$$events?.[t.type],a=G(e)?e.slice():e==null?[]:[e];for(var r of a)r.call(this,t)}const T=Y(null);function re(o,t="info",e=2500){T.set({message:o,type:t}),e&&setTimeout(()=>T.set(null),e)}var se=p("<div> </div>");function le(o,t){w(t,!1);const e=()=>X(T,"$toast",a),[a,r]=J();k();var n=H(),i=K(n);{var s=l=>{var c=se(),f=v(c,!0);u(c),E(()=>{oe(c,1,`toast ${e().type??""}`,"svelte-1fk2ial"),N(f,e().message)}),d(l,c)};I(i,l=>{e()&&l(s)})}d(o,n),y(),r()}var de=p('<div class="backdrop svelte-9pi54v"><div class="modal svelte-9pi54v"><header class="modal-header svelte-9pi54v"><div class="modal-title svelte-9pi54v"><!></div> <button class="close-button svelte-9pi54v" aria-label="Close">×</button></header> <div class="modal-body svelte-9pi54v"><!></div></div></div>');function F(o,t){w(t,!1);let e=M(t,"open",8,!1),a=M(t,"title",8,"");const r=P();function n(){r("close")}function i(f){f.key==="Escape"&&n()}ee(()=>(window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i))),k();var s=H(),l=K(s);{var c=f=>{var m=de(),_=v(m),b=v(_),j=v(b),O=v(j);{var R=$=>{var z=Q();E(()=>N(z,a())),d($,z)};I(O,$=>{a()&&$(R)})}u(j);var U=h(j,2);u(b);var L=h(b,2),C=v(L);te(C,t,"default",{}),u(L),u(_),u(m),g("click",U,n),g("click",_,ne(function($){ie.call(this,t,$)})),g("click",m,n),d(f,m)};I(l,f=>{e()&&f(c)})}d(o,s),y()}function ce(){return"showDirectoryPicker"in window}var ve=p("<button>Load</button>");function ue(o,t){w(t,!1);const e=P();async function a(){if(ce()){const n=await window.showDirectoryPicker(),i=new Map;for await(const s of n.values())if(s.kind==="file"){const l=await s.getFile();i.set(l.name,l)}e("load",{files:i,dir:n})}else{const n=document.createElement("input");n.type="file",n.webkitdirectory=!0,n.multiple=!0,n.onchange=()=>{const i=new Map(Array.from(n.files).map(s=>[s.name,s]));e("load",{files:i,dir:null})},n.click()}}k();var r=ve();g("click",r,a),d(o,r),y()}var pe=p("<button>Save</button>");function fe(o,t){w(t,!1);const e=P();let a=M(t,"disabled",8,!1);k();var r=pe();E(()=>r.disabled=a()),g("click",r,()=>e("save")),d(o,r),y()}var me=p('<header class="header svelte-zne36e"><div class="actions svelte-zne36e"><!> <!> <button>Help</button> <button>About</button></div> <div class="title svelte-zne36e"><a href="https://github.com/UoMLibrary/uom-open-annotator/" target="_blank" rel="noopener noreferrer" class="svelte-zne36e">Image Alignment Tool</a></div></header>');function he(o,t){w(t,!1);const e=P();k();var a=me(),r=v(a),n=v(r);ue(n,{$$events:{load:c=>e("load-project",c.detail)}});var i=h(n,2);fe(i,{$$events:{save:()=>e("save-project")}});var s=h(i,2),l=h(s,2);u(r),x(2),u(a),g("click",s,()=>e("help")),g("click",l,()=>e("about")),d(o,a),y()}var be=p(`<p>This tool allows you to compare pairs of images using overlays and add structured annotations
			for visual analysis.</p> <h3>Basic usage</h3> <ul><li>Select an image pair from the left sidebar</li> <li>Pan and zoom images in sync</li> <li>Add annotations directly in the viewer</li> <li>Annotations are saved per image pair</li></ul> <h3>Keyboard & mouse controls</h3> <ul><li><kbd>[</kbd> — Open image pair sidebar</li> <li><kbd>]</kbd> — Open annotations sidebar</li> <li><kbd>Escape</kbd> or <kbd>1</kbd> — Pan image mode</li> <li><kbd>B</kbd> or <kbd>2</kbd> — Rectangle annotation mode</li> <li><kbd>P</kbd> or <kbd>3</kbd> — Polygon annotation mode</li> <li><kbd>Mouse wheel</kbd> — Zoom</li> <li><kbd>Shift</kbd> + <kbd>Mouse wheel</kbd> — Fade between images</li></ul>`,1),ge=p(`<p>Designed for visual comparison, this application allows pairs of images to be overlaid and
			annotated to support detailed analysis.</p> <p>It runs entirely in the browser and can load projects directly from a local folder, with
			annotations saved back to the project file where the browser allows.</p> <h3>Technologies used</h3> <ul><li><a href="https://svelte.dev/docs/kit/introduction" target="_blank" rel="noopener noreferrer">SvelteKit</a> — application framework and UI architecture</li> <li><a href="https://openseadragon.github.io/" target="_blank" rel="noopener noreferrer">OpenSeadragon</a> — high-resolution image viewing and deep zoom</li> <li><a href="https://annotorious.dev/" target="_blank" rel="noopener noreferrer">Annotorious</a> — annotation primitives and interaction models</li></ul> <p>Rather than acting as a single, all-in-one solution, the tool is intended to form part of a
			broader workflow. Additional tools are planned to support related stages, such as image
			alignment, comparison preparation, and transformation of annotation outputs for downstream
			use.</p> <p class="muted">This is an experimental application and a work in progress, intended for research,
			exploration, and prototyping workflows.</p> <p class="muted">For any enquiries or suggestions for further development, please contact Christopher Wilson —
			Software Developer, Artificial Intelligence and Ideas Adoption (AIIA), The University of
			Manchester.</p>`,1),ke=p('<div class="app svelte-9kbugy"><!> <!> <div class="workspace svelte-9kbugy"></div> <!> <!></div>');function we(o,t){w(t,!1);let e=B(!1),a=B(!1);async function r(){console.log("Load project triggered")}async function n(){console.log("Save project triggered"),re("Project saved successfully!")}k();var i=ke(),s=v(i);le(s,{});var l=h(s,2);he(l,{$$events:{"load-project":r,"save-project":n,help:()=>A(e,!0),about:()=>A(a,!0)}});var c=h(l,4);F(c,{get open(){return D(e)},title:"How to use this tool",$$events:{close:()=>A(e,!1)},children:(m,_)=>{var b=be();x(8),d(m,b)},$$slots:{default:!0}});var f=h(c,2);F(f,{get open(){return D(a)},title:"About this tool",$$events:{close:()=>A(a,!1)},children:(m,_)=>{var b=ge();x(12),d(m,b)},$$slots:{default:!0}}),u(i),d(o,i),y()}var ye=p('<meta name="description" content="Experimental image alignment and registration tool for research, exploration, and prototyping workflows."/>'),_e=p('<main class="svelte-1uha8ag"><!></main>');function Me(o){var t=_e();Z("1uha8ag",a=>{var r=ye();V(()=>{W.title="Image Alignment Tool"}),d(a,r)});var e=v(t);we(e,{}),u(t),d(o,t)}export{Me as component};
